<!DOCTYPE html>
<html lang="en">
	<head>
		<link href="modern.css" rel="stylesheet">
		<style type="text/css">
			body {
				background-color: #EEE8CD;
			}

			div#interface {
				position: absolute;
				width: 25%;
				padding: .6em;
				margin-left: .75em;
			}
		</style>
	</head>
	
	<body class="metrouicss">
		<div id="gameBoard" class="page">			
			<div id="interface" class="page snapped bg-color-greenLight">
				<div class="page-header">
					<h1>Kupe</h1>
					<h3>Inspired by The Settlers of Catan</h3>
				</div>
				<div class="page-region">
					<p>Player: <span id="playerName"></span></p>
					<button id="rollDice" class="big">Roll Dice</button>
					<button id="endTurn" class="big">End turn</button>
					<span>Rolled <span id="diceNumber">nothing yet</span></span>
					<ul id="gameState" />
				</div>

				<div class="footer">
					Powered by <a href="http://threejs.org/">three.js</a><br/>
					Source at <a href="https://github.com/JMontagu/Kupe">GitHub</a>
				</div>
			</div>
		</div>

		<script src="js/lib/jquery.js"></script>
		<script src="js/lib/three.js"></script>
		<script src="js/lib/OrbitControls.js"></script>
		<script src="js/lib/linkedList.js"></script>
		<script src="js/lib/pubsub.js"></script>
		<script src="js/lib/threex/threex.windowresize.js"></script>
		<script src="js/game/dice.js"></script>
		<script src="js/game/numberTile.js"></script>
		<script src="js/game/resourceCard.js"></script>
		<script src="js/game/resource.js"></script>
		<script src="js/game/terrainTile.js"></script>
		<script src="js/game/settlement.js"></script>
		<script src="js/game/robber.js"></script>
		<script src="js/game/player.js"></script>
		<script src="js/game/kupe.js"></script>
		
		<script>
			var kupeGame;
			
			function start() {			
				kupeGame.createPlayer("Jade");
				//kupeGame.createPlayer("Craig");
				kupeGame.start();
			};

			function placeSettlements() {
				var currentPlayer = kupeGame.currentPlayer();
				var tiles = [kupeGame.getResourceTiles()[0], kupeGame.getResourceTiles()[1], kupeGame.getResourceTiles()[4]];

				currentPlayer.createSettlement(tiles);
			};
			
			$(function () {
				var $gameBoard = $('#gameBoard'),
					$gameState = $('#gameState'),
					$player = $('#playerName');

				kupeGame = new KUPE.game($gameBoard);
				start();

				placeSettlements();

				$player.html(kupeGame.currentPlayer().getName());

				$("#rollDice").click(function() {
					var diceNumber = kupeGame.rollDice();
					$("#diceNumber").html(diceNumber);
				});

				$("#endTurn").click(function() {
					kupeGame.endTurn();
					$player.html(kupeGame.currentPlayer().getName());
				});
			});
			
			
		</script>
	</body>
</html>